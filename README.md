# BPM-Analyser

计算音乐节拍速度（单位BPM，拍每分钟）的小工具。

直接用浏览器打开`BPM.html`即可使用。

需要注意的是，很多乐曲并没有一个全曲恒定的BPM，因此本程序在原曲中等距选取11个点，计算11个位置的BPM，获得一个长度为11的序列作为计算结果。作为参考，程序会给出一个最可能的全曲平均BPM值。

音频数据仅在浏览器内部处理，可查看本页代码以了解实现详情。

## 测试数据

|曲目|实测BPM|计算结果|
|---|---|---|
|ハルモニア/ChouCho|102|[064,102,102,102,102,102,102,102,102,102,069]|
|LEVEL5-judgelight-/fripSide|140|[140,140,140,140,140,140,140,140,140,140,070]|
|光るなら/Goose house|160|[061,080,080,080,080,080,080,080,080,080,080]|
|黒翼は~と|100|[100,100,100,100,100,100,100,100,100,100,100]|
|春のかたみ/元ちとせ|70|[070,070,070,070,070,070,070,070,070,070,069]|
|あさき、ゆめみし/瀧沢一留|112|[112,112,112,112,112,112,112,112,112,112,112]|
|如果有来生/谭维维|80|[160,160,080,080,080,120,080,120,120,120,120]|

## 算法

+ 对PCM数据分帧、计算每一帧的频谱能量
+ 对宽度为若干帧的窗口再次计算频谱，取峰值为窗口BPM
